{% set logos = [] %}
{% for item in globalData %}
    {% if item.title == "Logos" %}
        {% set logos = (logos.push({id: item.id, title: item.title, acf: item.acf}), logos) %}
    {% endif %}
{% endfor %}

<!-- #region data_segmentation -->
{% set sliderWeddings = [] %}
{% for item in weddings %}
    {% if item.id == homePage[0].acf.slider_section.weddings_to_show[0] %}
        {% set sliderWeddings = (sliderWeddings.push({slug: item.slug, acf: item.acf, weight: 1}), sliderWeddings) %}
    {% endif %}
    {% if item.id == homePage[0].acf.slider_section.weddings_to_show[1] %}
        {% set sliderWeddings = (sliderWeddings.push({slug: item.slug, acf: item.acf, weight: 2}), sliderWeddings) %}
    {% endif %}
    {% if item.id == homePage[0].acf.slider_section.weddings_to_show[2] %}
        {% set sliderWeddings = (sliderWeddings.push({slug: item.slug, acf: item.acf, weight: 3}), sliderWeddings) %}
    {% endif %}
    {% if item.id == homePage[0].acf.slider_section.weddings_to_show[3] %}
        {% set sliderWeddings = (sliderWeddings.push({slug: item.slug, acf: item.acf, weight: 4}), sliderWeddings) %}
    {% endif %}
    {% if item.id == homePage[0].acf.slider_section.weddings_to_show[4] %}
        {% set sliderWeddings = (sliderWeddings.push({slug: item.slug, acf: item.acf, weight: 5}), sliderWeddings) %}
    {% endif %}
    {% if item.id == homePage[0].acf.slider_section.weddings_to_show[5] %}
        {% set sliderWeddings = (sliderWeddings.push({slug: item.slug, acf: item.acf, weight: 6}), sliderWeddings) %}
    {% endif %}
{% endfor %}
<!-- #endregion -->

<style>
.home-about-img {
    background-image: url('{{ homePage[0].acf.about_section.image.url }}');
}
.package-1 {
   height: 97px ;
}
.package-2 {
   height: 97px ;
}
.package-3 {
   height: 97px ;
}
.package-4 {
   height: 97px;
}

@media (min-width: 768px) {
.package-1 {
    height: 595px !important;
}
.package-2 {
    height: 627px !important;
}
.package-3 {
    height: 659px !important;
}
.package-4 {
    height: 691px !important;
}
}
</style>

<video class="relative -mt-48 lg:-mt-72 z-20 hero-video" width="100%" autoplay loop muted playsinline poster="https://inside.parosfilms.com/wp-content/uploads/2022/04/Still-3.jpg">
    <source src="{{ homePage[0].video }}" type="video/mp4">
</video>

{% include "global/home-bk-img.html" %}

<div class="relative -mt-20 z-20 ani-trig-1">
    <div class="grid grid-cols-12 mx-auto px-2 md:px-4 z-20 home-slider-section">
        <h1 class="relative col-span-12 md:col-span-11 lg:col-span-10 text-5xl xs:text-6xl sm:text-7xl xl:text-8xl -mb-1 pt-6 pb-2 px-6 md:px-8 lg:px-16 z-20 wedding-slider-title"><div class="">{{ homePage[0].acf.slider_section.title }}</div></h1>
        <img class="hidden lg:block col-span-2 ml-auto pt-32 pr-4" src="https://inside.parosfilms.com/wp-content/uploads/2022/04/slider-arrow-home.svg" />
        <div id="main-swiper" class="relative grid grid-cols-12 col-span-12 z-20 swiper">
            <div class="col-span-12 md:col-span-11 lg:col-span-10 swiper-wrapper">
                {% for item in sliderWeddings | sortBy('weight') %}
                    <div class="swiper-slide swiper-slide-wedding">
                        <div class="flex items-center flex-col-reverse md:flex-row w-full pb-6 pr-8 md:pr-0 pl-6 md:pl-8 lg:pl-16 wedding-slider">
                            <div class="w-full md:w-1/3 pb-6 md:pb-0">
                                <h3 class="text-4xl xl:text-5xl text-cream-500 pb-2 wedding-slider-couple">{{ item.acf.spouse_one }} & {{ item.acf.spouse_two }}</h3>
                                <h6 class="text-2xs text-cream-500 pb-1 tag wedding-slider-location-tag">Location</h6>
                                <h4 class="text-2xl xl:text-3xl text-cream-500 wedding-slider-location">{{ item.acf.ceremony_information.location }}</h4>
                                <p class="text-base text-cream-500 pt-3 pb-6 wedding-slider-description">{{ item.acf.short_description | truncate(200, true, "...") }}</p>
                                <a href="/weddings/{{ item.slug }}" class="">
                                    <button class="text-cream-400 text-button">View More</button>
                                </a>
                            </div>
                            <a href="/weddings/{{ item.slug }}" class="w-full md:w-3/4">
                                <div class="bg-cover sm:bg-contain md:bg-center bg-no-repeat mt-8 md:mt-0 mb-4 md:mb-0 slider-poster-image" style="background-image: url('{{ item.acf.listing_page_information.image.url }}');">

                                </div>
                            </a>
                        </div>
                    </div>
                {% endfor %}
            </div>
            <div class="hidden relative lg:grid grid-rows-3 col-span-2 z-30">
                <div class="grid-row-span-1"></div>
                <div class="grid-row-span-2">
                    <div id="fraction" class="pb-3 text-right swiper-fraction"></div>
                    <div class="relative swiper-pagination">
        
                    </div>
                    <a href="/portfolio" class="hidden xxl:block">
                        <button class="w-full text-right wedding-slider-bullets-button">View All</button>
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="mt-32 outside-package-section">
    <div class="grid grid-cols-12 items-center ml-auto package-section">
        <div class="col-span-12 md:col-span-5 xl:col-span-3 xxl:col-span-4 pb-6 md:pb-0 px-8">
            <h2 class="text-4xl xl:text-5xl text-red-500 package-section-title">{{ homePage[0].acf.package_section.title }}</h3>
            <p class="text-black pt-3 pb-8 package-section-paragraph">{{ homePage[0].acf.package_section.paragraph }}</p>
            <a class="package-section-button"
                {% if homePage[0].acf.package_section.button.link_to_where == "A page on this site" %}
                href='{{ homePage[0].acf.package_section.button.onsite_link }}'
                {% elseif homePage[0].acf.package_section.button.link_to_where == "Another site" %}
                href='{{ homePage[0].acf.package_section.button.offsite_link }}' target='_blank'
                {% elseif homePage[0].acf.package_section.button.link_to_where == "A file" %}
                        href='{{ homePage[0].acf.package_section.button.file_link }}' 
                target='_blank'
                {% endif %}
            >
                <button class="text-red-500 underline text-button">{{ homePage[0].acf.package_section.button.text }}</button>
            </a>
        </div>
        <div class="col-span-12 xl:col-span-9 xxl:col-span-8 z-20">
            <div class="items-center justify-center">
                <div id="package-accordion-container" class="md:flex items-end overflow-hidden w-full package-accordion-container">
                    {% for item in packages | sortBy('weight') %}
                        <div class="{% if loop.index == 1 %}active{% endif %} {% if loop.index == 1 %}package-1 ani-trig-2{% elseif loop.index == 2 %}package-2 {% elseif loop.index == 3 %}package-3 {% elseif loop.index == 4 %}package-4{% endif %} card cursor-pointer flex-grow min-w-14 md:overflow-hidden relative transition-base package-box">
                            <div class="absolute bottom-0 from-transparent inset-x-0 opacity-0 shadow to-black transform transition-base translate-y-1/2 z-10"></div>
                            <div class="absolute md:flex w-full label left-0 transition-base pb-12 md:pb-0 z-20">
                                <div class="flex md:block items-center pt-8 px-6 md:pl-8 md:pr-4 package-title-box">
                                    <div class="text-cream-500 pr-4 package-num">0{{ item.weight }}</div>
                                    <div class="text-cream-500 uppercase package-name">{{ item.title }}</div>
                                </div>
                                <div class="content flex flex-col px-6 md:px-0">
                                    <div class="pt-6 md:pt-12 md:pr-12 lg:pr-0 opacity-0 relative text-cream-500">
                                        <p class="text-lg leading-tight md:pr-24 lg:pr-12 package-description">{{ item.description | safe }}</p>
                                        <h6 class="text-sm pt-3 pb-2 tag">The {{ item.title }} Includes:</h6>
                                        <ul class="list-disc pl-4 md:pr-80 lg:pr-12 xl:pr-6 package-includes">
                                            {% for item1 in item.inclusions %}
                                            <li class="text-2xs pb-1 lg:pb-2 leading-normal tag">{{ item1.inclusion }}</li>
                                            {% endfor %}
                                        </ul>
                                        <a href="/contact?entry={'PACKAGEINTERESTEDIN':'{{ item.title }}'}">
                                            <button class="w-full md:w-auto mt-3 outline-button">Book Now</button>
                                        </a>
                                        <a href="/packages#add-ons">
                                            <button class="w-full md:w-auto mt-3 outline-button">Add-Ons</button>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
</div>

<div class="flex flex-wrap items-start xl:items-center overflow-hidden mx-auto pt-48 md:pt-56 testimonial-slider">
    <div class="relative w-full md:w-1/2 xl:w-7/12 bg-cover bg-center z-20 home-about-img">
        <div class="py-32 sm:py-48 xl:py-72"></div>
    </div>
    <div class="relative w-full md:w-1/2 xl:w-5/12 px-3 md:px-0 z-30">
        <div class="relative w-full mt-12 md:mt-0 lg:-ml-7 z-30">
            <div class="absolute top-0 left-0 w-40 h-24 sm:h-32 md:h-56 open-quote ani-trig-3"></div>
            <div class="w-3/4 mx-auto">
                <div class="relative">
                    <h6 class="text-xs text-gold-600 text-center pb-2 tag">{{ homePage[0].acf.about_section.title }}</h6>
                    <div id="testimonial-swiper" class="relative w-full -mt-10 pt-12 pb-10 testimonial-swiper">
                        <div class="w-full mx-auto swiper-wrapper">
                            {% for item in testimonials %}
                                <div class="swiper-slide">
                                    <p class="text-center slider-test-text">"{{ item.shortText | safe }}"</p>
                                </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>
            </div>
            <div class="absolute top-0 right-0 w-40 h-24 sm:h-32 md:h-56 ml-auto close-quote ani-trig-4"></div>
        </div>
        <div class="mx-auto px-6 lg:px-20 text-center md:pt-12 lg:pt-0 lg:-ml-12">
            <p class="pb-4 sm:px-16 md:px-6 lg:px-16 home-testimonial-slider-paragraph">{{ homePage[0].acf.about_section.paragraph }}</p>
            <a class="testimonial-cta"
                {% if homePage[0].acf.about_section.button.link_to_where == "A page on this site" %}
                href='{{ homePage[0].acf.about_section.button.onsite_link }}'
                {% elseif homePage[0].acf.about_section.button.link_to_where == "Another site" %}
                href='{{ homePage[0].acf.about_section.button.offsite_link }}' target='_blank'
                {% elseif homePage[0].acf.about_section.button.link_to_where == "A file" %}
                        href='{{ homePage[0].acf.about_section.button.file_link }}' 
                target='_blank'
                {% endif %}
            >
                <button class="text-red-500 text-button">{{ homePage[0].acf.about_section.button.text }}</button>
            </a>
        </div>
    </div>
</div>

<script>
const screenWidth = window.matchMedia("(max-width: 768px)")
const cardContainer = document.getElementById('package-accordion-container');
const cards = document.querySelectorAll('.card');
let activeCard = cards[0];

cards.forEach((card) => {
	card.addEventListener('click', () => {
		activeCard.classList.remove('active');
		activeCard = card;
		activeCard.classList.add('active');
        if (screenWidth.matches) {
            cardContainer.scrollIntoView();
        } else {
            
        }
	});
});
</script>

<style>
@media (min-width: 992px) {
.ani-trig-1 {
    transform: translateY(-50px);
    transition: 0.5s ease-in;
}
.ani-1 {
    transform: translateY(0px) !important;
    transition: 0.5s ease-in;
}
.ani-trig-2 {
    transform: translateX(50px);
    transition: 0.5s ease-in;
}
.ani-2 {
    transform: translateX(0px) !important;
    transition: 0.5s ease-in;
}
.ani-trig-3 {
    transform: translateX(-25px);
    transition: 0.5s ease-in;
}
.ani-3 {
    transform: translateX(0px) !important;
    transition: 0.5s ease-in;
}
.ani-trig-4 {
    transform: translateX(25px);
    transition: 0.5s ease-in;
}
.ani-4 {
    transform: translateX(0px) !important;
    transition: 0.5s ease-in;
}
}
</style>

<script>

gsap.timeline({
  scrollTrigger: {
    trigger: ".ani-trig-1",
    start: "-=300px",
    once: true,
    toggleClass: "ani-1"
  },
});

gsap.timeline({
  scrollTrigger: {
    trigger: ".ani-trig-2",
    start: "-=700px",
    once: true,
    toggleClass: "ani-2"
  },
});

gsap.timeline({
  scrollTrigger: {
    trigger: ".ani-trig-3",
    start: "-=700px",
    once: true,
    toggleClass: "ani-3"
  },
});

gsap.timeline({
  scrollTrigger: {
    trigger: ".ani-trig-4",
    start: "-=700px",
    once: true,
    toggleClass: "ani-4"
  },
});

</script>